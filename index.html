<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PredicX - Advanced Prediction Markets(BNB)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./index.css" />
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top" style="background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px);">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-chart-line me-2"></i>PredicX
            </a>
            <div class="d-flex align-items-center">
                <div class="wallet-connected me-3 d-none" id="walletInfo">
                    <i class="fas fa-wallet"></i>
                    <span id="walletAddress">0x1234...5678</span>
                    <span class="admin-badge d-none" id="adminBadge">ADMIN</span>
                </div>
                <div class="token-balance me-3 d-none" id="tokenBalance">
                    <small class="">pUSDT Balance</small>
                    <div id="balanceAmount">0</div>
                </div>
                <button class="btn btn-warning me-2 d-none" id="approveTokens">
                    <i class="fas fa-check-circle me-2"></i>Approve pUSDT
                </button>
                <button class="btn btn-primary me-2 d-none" id="mintTokens">
                    <i class="fas fa-coins me-2"></i>Mint pUSDT
                </button>
                <button class="btn btn-outline-light" id="connectWallet">
                    <i class="fas fa-plug me-2"></i>Connect Wallet
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="floating-particles" id="particles"></div>
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="hero-title">Predict. Win. Earn pUSDT.</h1>
                    <p class="fs-5">The first prediction market with custom pUSDT tokens. Mint 1,000,000 pUSDT once and start predicting on Binance Testnet!</p>
                    <div class="d-flex flex-wrap gap-3 mt-4">
                        <button class="btn btn-primary btn-lg" id="exploreMarkets">
                            <i class="fas fa-rocket me-2"></i>Explore Markets
                        </button>
                        <button class="btn btn-outline-light btn-lg" id="learnMore">
                            <i class="fas fa-book me-2"></i>How It Works
                        </button>
                    </div>
                    <div class="mt-4 d-flex flex-wrap gap-4">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-users text-primary me-2"></i>
                            <span>12,458 Predictors</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="fas fa-trophy text-warning me-2"></i>
                            <span>2.4M pUSDT Won</span>
                        </div>
                        <div class="d-flex align-items-center">
                            <i class="fas fa-coins text-success me-2"></i>
                            <span>10B Total pUSDT</span>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mt-5 mt-lg-0">
                    <div class="market-card">
                        <div class="crypto-icon">BTC</div>
                        <h3 class="text-white">Bitcoin <span class="text-muted">BTC</span></h3>
                        <div class="market-price" id="btcPrice">$68,425.50</div>
                        <div class="price-change positive d-inline-block px-3 py-1 rounded-pill">
                            <i class="fas fa-arrow-up me-1"></i> +2.34%
                        </div>
                        <div class="countdown-timer">
                            <div class="timer-value" id="btcTimer">05:12:34:21</div>
                            <div class="">Time Remaining</div>
                        </div>
                        <div class="d-flex justify-content-between">
                            <div>
                                <div class="text-muted">Pool Size</div>
                                <div class="pool-size">124,580 pUSDT</div>
                            </div>
                            <div>
                                <div class="text-muted">Participants</div>
                                <div class="pool-size">2,458</div>
                            </div>
                        </div>
                        <button class="btn btn-primary w-100 mt-3 predict-btn" data-market="1">
                            <i class="fas fa-bullseye me-2"></i>Predict Now
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Markets Section -->
    <section id="markets" class="py-5">
        <div class="container">
            <h2 class="section-title">Active Prediction Markets</h2>
            <div class="row g-4" id="marketsContainer">
                <!-- Markets will be loaded here -->
            </div>
        </div>
    </section>

    <!-- User Predictions Section -->
    <section id="predictions" class="py-5 bg-dark">
        <div class="container">
            <h2 class="section-title">My Predictions</h2>
            <div class="bg-secondary bg-opacity-10 rounded-3 p-4">
                <div id="predictionsList" class="text-center py-5">
                    <i class="fas fa-chart-bar fa-3x mb-3"></i>
                    <p class="">No predictions yet. Connect your wallet and mint pUSDT to get started!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Admin Section -->
    <section id="adminSection" class="py-5 d-none">
        <div class="container">
            <h2 class="section-title">Admin Panel</h2>
            <div class="admin-section">
                <h4 class="text-primary mb-4"><i class="fas fa-crown me-2"></i>Administrator Functions</h4>
                <div class="row g-4">
                    <div class="col-md-6">
                        <div class="card bg-dark border-primary">
                            <div class="card-body">
                                <h5 class="card-title">Create New Market</h5>
                                <div class="mb-3">
                                    <label class="form-label">Symbol</label>
                                    <input type="text" class="form-control bg-dark text-white border-secondary" id="newMarketSymbol" placeholder="BTC">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Name</label>
                                    <input type="text" class="form-control bg-dark text-white border-secondary" id="newMarketName" placeholder="Bitcoin">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Current Price (USD)</label>
                                    <input type="number" class="form-control bg-dark text-white border-secondary" id="newMarketPrice" placeholder="68500">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Duration (days)</label>
                                    <input type="number" class="form-control bg-dark text-white border-secondary" id="newMarketDuration" placeholder="7">
                                </div>
                                <button class="btn btn-primary w-100" id="createMarketBtn">
                                    <i class="fas fa-plus me-2"></i>Create Market
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card bg-dark border-primary">
                            <div class="card-body">
                                <h5 class="card-title">Resolve Predictions</h5>
                                <div class="mb-3">
                                    <label class="form-label">Prediction ID</label>
                                    <input type="number" class="form-control bg-dark text-white border-secondary" id="resolvePredictionId" placeholder="1">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Actual Price (USD)</label>
                                    <input type="number" class="form-control bg-dark text-white border-secondary" id="resolveActualPrice" placeholder="69000">
                                </div>
                                <button class="btn btn-success w-100" id="resolvePredictionBtn">
                                    <i class="fas fa-check me-2"></i>Resolve Prediction
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-12">
                        <div class="card bg-dark border-primary">
                            <div class="card-body">
                                <h5 class="card-title">Contract Management</h5>
                                <div class="d-flex gap-2 flex-wrap">
                                    <button class="btn btn-outline-primary" id="updatePricesBtn">
                                        <i class="fas fa-sync me-2"></i>Update All Prices
                                    </button>
                                    <button class="btn btn-outline-warning" id="closeMarketBtn">
                                        <i class="fas fa-lock me-2"></i>Close Market
                                    </button>
                                    <button class="btn btn-outline-danger" id="emergencyWithdrawBtn">
                                        <i class="fas fa-exclamation-triangle me-2"></i>Emergency Withdraw
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="py-5">
        <div class="container">
            <h2 class="section-title">How It Works</h2>
            <div class="row g-4 text-center">
                <div class="col-md-4">
                    <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-coins fa-2x text-white"></i>
                    </div>
                    <h4>1. Mint pUSDT</h4>
                    <p class="">Mint 1,000,000 pUSDT tokens once per wallet to start predicting.</p>
                </div>
                <div class="col-md-4">
                    <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-check-circle fa-2x text-white"></i>
                    </div>
                    <h4>2. Approve Spending</h4>
                    <p class="">Approve the prediction contract to spend your pUSDT tokens.</p>
                </div>
                <div class="col-md-4">
                    <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-chart-line fa-2x text-white"></i>
                    </div>
                    <h4>3. Make Prediction</h4>
                    <p class="">Choose a cryptocurrency market and predict its future price with your pUSDT.</p>
                </div>
                <div class="col-md-6">
                    <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-trophy fa-2x text-white"></i>
                    </div>
                    <h4>4. Win Prizes</h4>
                    <p class="">If your prediction is within 2% of actual price, win a share of the pool!</p>
                </div>
                <div class="col-md-6">
                    <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-copy fa-2x text-white"></i>
                    </div>
                    <h4>5. Copy Predictions</h4>
                    <p class="">Copy successful predictions from other users to increase your chances!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark py-4 mt-5">
        <div class="container text-center">
            <strong><p>Â© 2025 PredicX. Built for Binance Testnet. Total pUSDT Supply: 10,000,000,000</p></strong>
        </div>
    </footer>

    <!-- Prediction Modal -->
    <div class="modal fade" id="predictionModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content bg-dark text-white">
                <div class="modal-header border-secondary">
                    <h5 class="modal-title">Place Prediction</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Market</label>
                        <input type="text" class="form-control bg-dark text-white border-secondary" id="predictionMarketName" readonly>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Predicted Price (USD)</label>
                        <input type="number" class="form-control bg-dark text-white border-secondary" id="predictionPrice" placeholder="Enter price prediction">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Stake Amount (pUSDT)</label>
                        <input type="number" class="form-control bg-dark text-white border-secondary" id="stakeAmount" placeholder="Enter pUSDT amount">
                        <div class="form-text">Your balance: <span id="modalBalance">0</span> pUSDT</div>
                    </div>
                    
                    <!-- Enhanced Copy Prediction Section -->
                    <div class="copy-id-section">
                        <h6><i class="fas fa-copy me-2 text-warning"></i>Copy Existing Prediction</h6>
                        <div class="mb-2">
                            <label class="form-label">Paste Prediction Copy ID</label>
                            <input type="text" class="form-control bg-dark text-white border-warning" 
                                   id="copyPredictionId" placeholder="PRED-123-0xABC...">
                            <div class="">Get Copy IDs from successful predictors in the community</div>
                        </div>
                        <div class="d-flex gap-2 flex-wrap">
                            <button class="btn btn-outline-warning btn-sm" id="pasteCopyId">
                                <i class="fas fa-paste me-1"></i>Paste from Clipboard
                            </button>
                            <button class="btn btn-outline-info btn-sm" id="findCopyId">
                                <i class="fas fa-search me-1"></i>Find Predictions to Copy
                            </button>
                            <button class="btn btn-outline-success btn-sm" id="loadPredictionDetails">
                                <i class="fas fa-download me-1"></i>Load Prediction Details
                            </button>
                        </div>
                        <div id="predictionDetails" class="mt-2 p-2 bg-secondary bg-opacity-10 rounded d-none">
                            <small class="text-success"><i class="fas fa-check-circle me-1"></i>Prediction loaded successfully!</small>
                            <div class="mt-1">
                                <small>Original Predictor: <span id="originalPredictor"></span></small><br>
                                <small>Predicted Price: $<span id="loadedPredictedPrice"></span></small><br>
                                <small>Market: <span id="loadedMarket"></span></small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer border-secondary">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="confirmPrediction">Place Prediction</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Approve Modal -->
    <div class="modal fade" id="approveModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content bg-dark text-white">
                <div class="modal-header border-secondary">
                    <h5 class="modal-title">Approve pUSDT Spending</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <p>To place predictions, you need to approve the prediction contract to spend your pUSDT tokens.</p>
                    <div class="mb-3">
                        <label class="form-label">Amount to Approve</label>
                        <input type="number" class="form-control bg-dark text-white border-secondary" id="approveAmount" value="1000000" readonly>
                        <div class="form-text">This approves the contract to spend up to 1,000,000 pUSDT on your behalf</div>
                    </div>
                </div>
                <div class="modal-footer border-secondary">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-warning" id="confirmApprove">Approve pUSDT</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div class="notification success d-none" id="successNotification">
        <i class="fas fa-check-circle me-2"></i> <span id="successMessage">Success!</span>
    </div>
    <div class="notification error d-none" id="errorNotification">
        <i class="fas fa-exclamation-circle me-2"></i> <span id="errorMessage">Error occurred!</span>
    </div>

    <script src="./index.js"></script>
</body>
</html>